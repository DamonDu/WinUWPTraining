# Homework 1 实验报告

​				`中山大学数据科学与计算机学院   软件工程教务一班   15331069   杜一柯`

## 效果展示

![捕获](\\捕获.PNG)

## 实验思路

1. 首先分析需求：程序大概需要完成两大功能——一是按“Speak”按钮时使动物随机发言；二是在文本框输入动物后按“OK”按钮时指定动物发言。这样程序的逻辑层代码就可以大概想象：第一部分是“Speak_button_Click” 函数，函数内部通过一个随机数来使动物随机发言；第二部分是"Ok_button_Click"函数，此函数应先获取文本框中的字符串，然后通过switch来控制输出。
2. 根据面向对象的设计思想，我思考：需要哪些类？哪些接口？显然的，我们分别需要"Cat"，“Dog”，“Pig”这三个类，又因为他们需要实现Say的相似方法，所以将Say抽象为接口。
3. 引入类和接口后再次分析逻辑层，发现无论是"Speak“按钮还是”OK“按钮的每一次Click事件，都只对应一次Say事件，**在这种情况下其实不使用事件委托其实也可以实现这个程序**。但是由于作业需求还是引入了委托机制。

## 注意事项 & 解决方法

#### （一）理解UWP项目的层次机构

​	UWP项目在VS资源器中是如下结构：

​		![2](\\2.PNG)

​	理解这个结构花了我一些时间，之前的误解是XAML和C#文件会分别放置在两个文件夹中，而在标准项目模板中往往是将对应的XAML文件和C#文件捆绑放置。理解了这种文件结构之后就会觉得这样处理后项目会很清晰。而我们所有的工作只要在 *MainPage.xaml* 和 *MainPage.xaml.cs* 中进行。

#### （二）XMAL控件		

​	VS中集成的图形化视图编辑窗口的体验实在太好了。大部分的工作不需要直接的编辑XAML代码，通过拖拽和网格可以满足几乎所有的布局和样式需求。双击控件会自动生成对应的事件监听函数。

​	其中 *textblock* 是文本块，*textbox* 是文本框。XAML语言与HTML相似，通过*”控件名称.属性“*的语法来获取控件属性，通过这种方式我们可以获取到文本框的文本以及编辑文本。

#### （三）随机数的生成

```c#
        Random ran = new Random();
        int RandKey = ran.Next(1, 4);
        switch(RandKey)
        {
            case 1:
                Say += new AnimalSay(c.say);
                break;
            case 2:
                Say += new AnimalSay(d.say);
                break;
            case 3:
                Say += new AnimalSay(p.say);
                break;
        }
```
​	在这里我深刻体会到C#是一门”纯面向对象编程语言“，所有的方法都是存在于类中，而无类外方法。例如随机数的生成，先创建一个Random对象再调用其方法函数。

#### （四）事件委托的理解

​	上面有提到过，其实不用事件委托也可以实现这次作业的功能需求。做完这次作业，我个人对事件委托的理解是：用于对签名相同的函数的**批处理**。在事件委托机制中，通过”+=“运算符注册事件，通过”-=“运算符注销事件。通过注册多个事件可以实现事件的批量处理，简化代码的同时提高了程序运行效率。**需要注意的是：当一个事件不再需要用到，要及时地将它注销。**

## 心得体会

- 合适的集成开发环境极大提高开发效率。VS为我们做了许多工作，让程序员不需要去重复造轮子。
- 学习语言最好的教材是官方API文档。不得不说微软的API文档实在是太良心了，中文翻译很流程规范，阅读障碍几乎为零。所有的问题几乎都能在API文档中得以解决。
- 第一次使用纯面向对象语言实现一个玩具程序，相对于过程语言，面向对象语言给我的感觉是模型清晰，即代码逻辑和现实世界的物理模型较为接近，所以在设计时能更好地做到有的放矢。
- 第一次使用图形化窗口编辑器，自动生成代码解决了事件驱动编程代码量大的问题，体验很好。







